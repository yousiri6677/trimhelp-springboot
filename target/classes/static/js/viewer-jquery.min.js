!function(i){"function"==typeof define&&define.amd?define("viewer",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(jQuery)}(function(g){"use strict";var e=g(window),s=g(document),o="viewer",i=document.createElement(o),r="viewer-fixed",n="viewer-open",d="viewer-show",l="viewer-hide",c="viewer-fade",u="viewer-in",m="viewer-active",v="viewer-invisible",f="viewer-transition",a="viewer-fullscreen-exit",w="img",h="mousedown touchstart pointerdown MSPointerDown",p="mousemove touchmove pointermove MSPointerMove",b="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",y="wheel mousewheel DOMMouseScroll",$="transitionend",x="load."+o,C="keydown."+o,F="click."+o,z="resize."+o,Y="build."+o,k="built."+o,I="show."+o,X="shown."+o,T="hide."+o,t="hidden."+o,P="view."+o,V="viewed."+o,E="undefined"!=typeof i.style.transition,S=Math.round,D=Math.sqrt,L=Math.abs,q=Math.min,R=Math.max,M=Number;function W(i){return"string"==typeof i}function A(i){return"number"==typeof i&&!isNaN(i)}function _(i){return void 0===i}function j(i,t){var e=[];return A(t)&&e.push(t),e.slice.apply(i,e)}function B(i,t){var e=j(arguments,2);return function(){return i.apply(t,e.concat(j(arguments)))}}function H(i){return i.offsetWidth}function U(i,t){var e;if(i.naturalWidth)return t(i.naturalWidth,i.naturalHeight);(e=document.createElement("img")).onload=function(){t(this.width,this.height)},e.src=i.src}function N(i){switch(i){case 2:return"viewer-hide-xs-down";case 3:return"viewer-hide-sm-down";case 4:return"viewer-hide-md-down"}}function O(i,t){this.$element=g(i),this.options=g.extend({},O.DEFAULTS,g.isPlainObject(t)&&t),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}O.prototype={constructor:O,init:function(){var i=this.options,t=this.$element,e=t.is(w),s=e?t:t.find(w),n=s.length,a=g.proxy(this.ready,this);n&&(g.isFunction(i.build)&&t.one(Y,i.build),this.trigger(Y).isDefaultPrevented()||(E||(i.transition=!1),this.isImg=e,this.length=n,this.count=0,this.$images=s,this.$body=g("body"),i.inline?(t.one(k,g.proxy(function(){this.view()},this)),s.each(function(){this.complete?a():g(this).one(x,a)})):t.on(F,g.proxy(this.start,this))))},ready:function(){this.count++,this.count===this.length&&this.build()},build:function(){var i,t,e,s,n,a,o=this.options,h=this.$element;this.isBuilt||(this.$parent=i=h.parent(),this.$viewer=t=g(O.TEMPLATE),this.$canvas=t.find(".viewer-canvas"),this.$footer=t.find(".viewer-footer"),this.$title=e=t.find(".viewer-title"),this.$toolbar=s=t.find(".viewer-toolbar"),this.$navbar=n=t.find(".viewer-navbar"),this.$button=a=t.find(".viewer-button"),this.$tooltip=t.find(".viewer-tooltip"),this.$player=t.find(".viewer-player"),this.$list=t.find(".viewer-list"),e.addClass(o.title?N(o.title):l),s.addClass(o.toolbar?N(o.toolbar):l),s.find("li[class*=zoom]").toggleClass(v,!o.zoomable),s.find("li[class*=flip]").toggleClass(v,!o.scalable),o.rotatable||s.find("li[class*=rotate]").addClass(v).appendTo(s),n.addClass(o.navbar?N(o.navbar):l),a.toggleClass(l,!o.button),o.inline?(a.addClass("viewer-fullscreen"),t.css("z-index",o.zIndexInline),"static"===i.css("position")&&i.css("position","relative")):(a.addClass("viewer-close"),t.css("z-index",o.zIndex).addClass([r,c,l].join(" "))),h.after(t),o.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,g.isFunction(o.built)&&h.one(k,o.built),this.trigger(k))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.$viewer.remove())},bind:function(){var i=this.options,t=this.$element;g.isFunction(i.view)&&t.on(P,i.view),g.isFunction(i.viewed)&&t.on(V,i.viewed),this.$viewer.on(F,g.proxy(this.click,this)).on(y,g.proxy(this.wheel,this)),this.$canvas.on(h,g.proxy(this.mousedown,this)),s.on(p,this._mousemove=B(this.mousemove,this)).on(b,this._mouseup=B(this.mouseup,this)).on(C,this._keydown=B(this.keydown,this)),e.on(z,this._resize=B(this.resize,this))},unbind:function(){var i=this.options,t=this.$element;g.isFunction(i.view)&&t.off(P,i.view),g.isFunction(i.viewed)&&t.off(V,i.viewed),this.$viewer.off(F,this.click).off(y,this.wheel),this.$canvas.off(h,this.mousedown),s.off(p,this._mousemove).off(b,this._mouseup).off(C,this._keydown),e.off(z,this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:e.innerWidth(),height:e.innerHeight()}},initViewer:function(){var i,t=this.options,e=this.$parent;t.inline&&(this.parent=i={width:R(e.width(),t.minWidth),height:R(e.height(),t.minHeight)}),!this.isFulled&&i||(i=this.container),this.viewer=g.extend({},i)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var a=this.options,i=this.$element,t=this.$list,o=[];this.$images.each(function(i){var t=this.src,e=this.alt||function n(i){return W(i)?i.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""}(t),s=a.url;t&&(W(s)?s=this.getAttribute(s):g.isFunction(s)&&(s=s.call(this,this)),o.push('<li><img src="'+t+'" data-action="view" data-index="'+i+'" data-original-url="'+(s||t)+'" alt="'+e+'"></li>'))}),t.html(o.join("")).find(w).one(x,{filled:!0},g.proxy(this.loadImage,this)),this.$items=t.children(),a.transition&&i.one(V,function(){t.addClass(f)})},renderList:function(i){var t=i||this.index,e=this.$items.eq(t).width(),s=e+1;this.$list.css({width:s*this.length,marginLeft:(this.viewer.width-e)/2-s*t})},resetList:function(){this.$list.empty().removeClass(f).css("margin-left",0)},initImage:function(h){var r=this.options,i=this.$image,t=this.viewer,e=this.$footer.height(),l=t.width,d=R(t.height-e,e),c=this.image||{};U(i[0],g.proxy(function(i,t){var e,s,n=i/t,a=l,o=d;l<d*n?o=l/n:a=d*n,s={naturalWidth:i,naturalHeight:t,aspectRatio:n,ratio:(a=q(.9*a,i))/i,width:a,height:o=q(.9*o,t),left:(l-a)/2,top:(d-o)/2},e=g.extend({},s),r.rotatable&&(s.rotate=c.rotate||0,e.rotate=0),r.scalable&&(s.scaleX=c.scaleX||1,s.scaleY=c.scaleY||1,e.scaleX=1,e.scaleY=1),this.image=s,this.initialImage=e,g.isFunction(h)&&h()},this))},renderImage:function(i){var t=this.image,e=this.$image;e.css({width:t.width,height:t.height,marginLeft:t.left,marginTop:t.top,transform:function a(i){var t=[],e=i.rotate,s=i.scaleX,n=i.scaleY;return A(e)&&t.push("rotate("+e+"deg)"),A(s)&&A(n)&&t.push("scale("+s+","+n+")"),t.length?t.join(" "):"none"}(t)}),g.isFunction(i)&&(this.transitioning?e.one($,i):i())},resetImage:function(){this.$image&&(this.$image.remove(),this.$image=null)},start:function(i){var t=i.target;g(t).is("img")&&(this.target=t,this.show())},click:function(i){var t=g(i.target),e=t.data("action"),s=this.image;switch(e){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(t.data("index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-s.scaleX||-1);break;case"flip-vertical":this.scaleY(-s.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var i=this.options,t=this.viewer,e=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),e.removeClass(v).css("cssText","width:0;height:0;margin-left:"+t.width/2+"px;margin-top:"+t.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(g.proxy(function(){e.toggleClass(f,i.transition).toggleClass("viewer-move",i.movable),this.renderImage(g.proxy(function(){this.isViewed=!0,this.trigger(V)},this))},this))},loadImage:function(i){var t=i.target,a=g(t),e=a.parent(),o=e.width(),h=e.height(),r=i.data&&i.data.filled;U(t,function(i,t){var e=i/t,s=o,n=h;o<h*e?r?s=h*e:n=o/e:r?n=o/e:s=h*e,a.css({width:s,height:n,marginLeft:(o-s)/2,marginTop:(h-n)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.isViewed&&this.initImage(g.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find(w).one(x,g.proxy(this.loadImage,this)).trigger(x)},wheel:function(i){var t=i.originalEvent||i,e=M(this.options.zoomRatio)||.1,s=1;this.isViewed&&(i.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(g.proxy(function(){this.wheeling=!1},this),50),t.deltaY?s=0<t.deltaY?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=0<t.detail?1:-1),this.zoom(-s*e,!0,i)))},keydown:function(i){var t=this.options,e=i.which;if(this.isFulled&&t.keyboard)switch(e){case 27:this.isPlayed?this.stop():t.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:i.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next();break;case 40:i.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:(i.ctrlKey||i.shiftKey)&&(i.preventDefault(),this.toggle())}},mousedown:function(i){var t,e=this.options,s=i.originalEvent,n=s&&s.touches,a=i,o=!!e.movable&&"move";if(this.isViewed){if(n){if(1<(t=n.length)){if(!e.zoomable||2!==t)return;a=n[1],this.startX2=a.pageX,this.startY2=a.pageY,o="zoom"}else this.isSwitchable()&&(o="switch");a=n[0]}o&&(i.preventDefault(),this.action=o,this.startX=a.pageX||s&&s.pageX,this.startY=a.pageY||s&&s.pageY)}},mousemove:function(i){var t,e=this.options,s=this.action,n=this.$image,a=i.originalEvent,o=a&&a.touches,h=i;if(this.isViewed){if(o){if(1<(t=o.length)){if(!e.zoomable||2!==t)return;h=o[1],this.endX2=h.pageX,this.endY2=h.pageY}h=o[0]}s&&(i.preventDefault(),"move"===s&&e.transition&&n.hasClass(f)&&n.removeClass(f),this.endX=h.pageX||a&&a.pageX,this.endY=h.pageY||a&&a.pageY,this.change(i))}},mouseup:function(i){var t=this.action;t&&(i.preventDefault(),"move"===t&&this.options.transition&&this.$image.addClass(f),this.action=!1)},show:function(){var i,t=this.options;t.inline||this.transitioning||(this.isBuilt||this.build(),g.isFunction(t.show)&&this.$element.one(I,t.show),this.trigger(I).isDefaultPrevented()||(this.$body.addClass(n),i=this.$viewer.removeClass(l),this.$element.one(X,g.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),t.transition?(this.transitioning=!0,i.addClass(f),H(i[0]),i.one($,g.proxy(this.shown,this)).addClass(u)):(i.addClass(u),this.shown())))},hide:function(){var i=this.options,t=this.$viewer;i.inline||this.transitioning||!this.isShown||(g.isFunction(i.hide)&&this.$element.one(T,i.hide),this.trigger(T).isDefaultPrevented()||(this.isViewed&&i.transition?(this.transitioning=!0,this.$image.one($,g.proxy(function(){t.one($,g.proxy(this.hidden,this)).removeClass(u)},this)),this.zoomTo(0,!1,!1,!0)):(t.removeClass(u),this.hidden())))},view:function(i){var t,e,s,n,a,o=this.$title;if(i=Number(i)||0,!(!this.isShown||this.isPlayed||i<0||i>=this.length||this.isViewed&&i===this.index||this.trigger(P).isDefaultPrevented())){if(n=(s=(e=this.$items.eq(i)).find(w)).data("originalUrl"),a=s.attr("alt"),this.$image=t=g('<img src="'+n+'" alt="'+a+'">'),this.isViewed&&this.$items.eq(this.index).removeClass(m),e.addClass(m),this.isViewed=!1,this.index=i,this.image=null,this.$canvas.html(t.addClass(v)),this.renderList(),o.empty(),this.$element.one(V,g.proxy(function(){var i=this.image,t=i.naturalWidth,e=i.naturalHeight;o.html(a+" ("+t+" &times; "+e+")")},this)),t[0].complete?this.load():(t.one(x,g.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(g.proxy(function(){t.removeClass(v),this.timeout=!1},this),1e3)),1===this.length)return this.$viewer.addClass("viewer-first"),void this.$viewer.addClass("viewer-last");if(i<=0)return this.$viewer.addClass("viewer-first"),void this.$viewer.removeClass("viewer-last");if(this.$viewer.removeClass("viewer-first"),i>=this.length-1)return this.$viewer.addClass("viewer-last"),void this.$viewer.removeClass("viewer-first");this.$viewer.removeClass("viewer-last")}},prev:function(){this.view(R(this.index-1,0))},next:function(){this.view(q(this.index+1,this.length-1))},move:function(i,t){var e=this.image;this.moveTo(_(i)?i:e.left+M(i),_(t)?t:e.top+M(t))},moveTo:function(i,t){var e=this.image,s=!1;_(t)&&(t=i),i=M(i),t=M(t),this.isViewed&&!this.isPlayed&&this.options.movable&&(A(i)&&(e.left=i,s=!0),A(t)&&(e.top=t,s=!0),s&&this.renderImage())},zoom:function(i,t,e){var s=this.image;i=(i=M(i))<0?1/(1-i):1+i,this.zoomTo(s.width*i/s.naturalWidth,t,e)},zoomTo:function(i,t,e,s){var n,a,o,h,r,l=this.options,d=.01,c=100,u=this.image,m=u.width,v=u.height;A(i=R(0,i))&&this.isViewed&&!this.isPlayed&&(s||l.zoomable)&&(s||(d=R(d,l.minZoomRatio),c=q(c,l.maxZoomRatio),i=q(R(i,d),c)),.95<i&&i<1.05&&(i=1),a=u.naturalWidth*i,o=u.naturalHeight*i,e&&(n=e.originalEvent)?(h=this.$viewer.offset(),r=n.touches?function f(i){var t=i.length,e=0,s=0;return t&&(g.each(i,function(i,t){e+=t.pageX,s+=t.pageY}),e/=t,s/=t),{pageX:e,pageY:s}}(n.touches):{pageX:e.pageX||n.pageX||0,pageY:e.pageY||n.pageY||0},u.left-=(a-m)*((r.pageX-h.left-u.left)/m),u.top-=(o-v)*((r.pageY-h.top-u.top)/v)):(u.left-=(a-m)/2,u.top-=(o-v)/2),u.width=a,u.height=o,u.ratio=i,this.renderImage(),t&&this.tooltip())},rotate:function(i){this.rotateTo((this.image.rotate||0)+M(i))},rotateTo:function(i){var t=this.image;A(i=M(i))&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(t.rotate=i,this.renderImage())},scale:function(i,t){var e=this.image,s=!1;_(t)&&(t=i),i=M(i),t=M(t),this.isViewed&&!this.isPlayed&&this.options.scalable&&(A(i)&&(e.scaleX=i,s=!0),A(t)&&(e.scaleY=t,s=!0),s&&this.renderImage())},scaleX:function(i){this.scale(i,this.image.scaleY)},scaleY:function(i){this.scale(this.image.scaleX,i)},play:function(){var i,n=this.options,a=this.$player,o=g.proxy(this.loadImage,this),h=[],r=0,l=0;this.isShown&&!this.isPlayed&&(n.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,a.addClass(d),this.$items.each(function(i){var t=g(this),e=t.find(w),s=g('<img src="'+e.data("originalUrl")+'" alt="'+e.attr("alt")+'">');r++,s.addClass(c).toggleClass(f,n.transition),t.hasClass(m)&&(s.addClass(u),l=i),h.push(s),s.one(x,{filled:!1},o),a.append(s)}),A(n.interval)&&0<n.interval&&(i=g.proxy(function(){this.playing=setTimeout(function(){h[l].removeClass(u),h[l=++l<r?l:0].addClass(u),i()},n.interval)},this),1<r&&i()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass(d).empty())},full:function(){var i=this.options,t=this.$image,e=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&i.inline&&(this.isFulled=!0,this.$body.addClass(n),this.$button.addClass(a),i.transition&&(t.removeClass(f),e.removeClass(f)),this.$viewer.addClass(r).removeAttr("style").css("z-index",i.zIndex),this.initContainer(),this.viewer=g.extend({},this.container),this.renderList(),this.initImage(g.proxy(function(){this.renderImage(function(){i.transition&&setTimeout(function(){t.addClass(f),e.addClass(f)},0)})},this)))},exit:function(){var i=this.options,t=this.$image,e=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass(n),this.$button.removeClass(a),i.transition&&(t.removeClass(f),e.removeClass(f)),this.$viewer.removeClass(r).css("z-index",i.zIndexInline),this.viewer=g.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(g.proxy(function(){this.renderImage(function(){i.transition&&setTimeout(function(){t.addClass(f),e.addClass(f)},0)})},this)))},tooltip:function(){var i=this.options,t=this.$tooltip,e=this.image,s=[d,c,f].join(" ");this.isViewed&&!this.isPlayed&&i.tooltip&&(t.text(S(100*e.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):i.transition?(this.fading&&t.trigger($),t.addClass(s),H(t[0]),t.addClass(u)):t.addClass(d),this.tooltiping=setTimeout(g.proxy(function(){i.transition?(t.one($,g.proxy(function(){t.removeClass(s),this.fading=!1},this)).removeClass(u),this.fading=!0):t.removeClass(d),this.tooltiping=!1},this),1e3))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=g.extend({},this.initialImage),this.renderImage())},update:function(){var i,t=this.$element,s=this.$images,n=[];if(this.isImg){if(!t.parent().length)return this.destroy()}else this.$images=s=t.find(w),this.length=s.length;this.isBuilt&&(g.each(this.$items,function(i){var t=g(this).find("img")[0],e=s[i];e?e.src!==t.src&&n.push(i):n.push(i)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&(0<=(i=g.inArray(this.index,n))?(this.isViewed=!1,this.view(R(this.index-(i+1),0))):this.$items.eq(this.index).addClass(m)):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var i=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),i.off(F,this.start)),this.unbuild(),i.removeData(o)},trigger:function(i,t){var e=g.Event(i,t);return this.$element.trigger(e),e},shown:function(){var i=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),g.isFunction(i.shown)&&this.$element.one(X,i.shown),this.trigger(X)},hidden:function(){var i=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.removeClass(n),this.$viewer.addClass(l),this.resetList(),this.resetImage(),g.isFunction(i.hidden)&&this.$element.one(t,i.hidden),this.trigger(t)},requestFullscreen:function(){var i=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(i){var t,e,s,n,a,o=this.endX-this.startX,h=this.endY-this.startY;switch(this.action){case"move":this.move(o,h);break;case"zoom":this.zoom((t=L(this.startX-this.startX2),e=L(this.startY-this.startY2),s=L(this.endX-this.endX2),n=L(this.endY-this.endY2),a=D(t*t+e*e),(D(s*s+n*n)-a)/a),!1,i),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",L(o)>L(h)&&(1<o?this.prev():o<-1&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var i=this.image,t=this.viewer;return 0<=i.left&&0<=i.top&&i.width<=t.width&&i.height<=t.height}},O.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},O.setDefaults=function(i){g.extend(O.DEFAULTS,i)},O.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>',O.other=g.fn.viewer,g.fn.viewer=function(s){var n,a=j(arguments,1);return this.each(function(){var i,t=g(this),e=t.data(o);if(!e){if(/destroy|hide|exit|stop|reset/.test(s))return;t.data(o,e=new O(this,s))}W(s)&&g.isFunction(i=e[s])&&(n=i.apply(e,a))}),_(n)?this:n},g.fn.viewer.Constructor=O,g.fn.viewer.setDefaults=O.setDefaults,g.fn.viewer.noConflict=function(){return g.fn.viewer=O.other,this}});