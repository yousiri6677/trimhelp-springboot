!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){if(!p.support.cors&&p.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,r=/^get|post$/i,s=new RegExp("^"+location.protocol,"i");p.ajaxTransport("* text html xml json",function(n,o,e){if(n.crossDomain&&n.async&&r.test(n.type)&&t.test(n.url)&&s.test(n.url)){var c=null;return{send:function(e,a){var t="",i=(o.dataType||"").toLowerCase();c=new XDomainRequest,/^\d+$/.test(o.timeout)&&(c.timeout=o.timeout),c.ontimeout=function(){a(500,"timeout")},c.onload=function(){var e="Content-Length: "+c.responseText.length+"\r\nContent-Type: "+c.contentType,t={code:200,message:"success"},n={text:c.responseText};try{if("html"===i||/text\/html/i.test(c.contentType))n.html=c.responseText;else if("json"===i||"text"!==i&&/\/json/i.test(c.contentType))try{n.json=p.parseJSON(c.responseText)}catch(r){t.code=500,t.message="parseerror"}else if("xml"===i||"text"!==i&&/\/xml/i.test(c.contentType)){var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1;try{o.loadXML(c.responseText)}catch(r){o=undefined}if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+c.responseText;n.xml=o}}catch(s){throw s}finally{a(t.code,t.message,n,e)}},c.onprogress=function(){},c.onerror=function(){a(500,"error",{text:c.responseText})},o.data&&(t="string"===p.type(o.data)?o.data:p.param(o.data)),c.open(n.type,n.url),c.send(t)},abort:function(){c&&c.abort()}}}})}});